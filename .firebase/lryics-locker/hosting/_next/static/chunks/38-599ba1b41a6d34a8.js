"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[38],{285:(e,t,a)=>{a.d(t,{$:()=>d});var s=a(5155),n=a(2115),r=a(4253),l=a(2085),o=a(9434);let i=(0,l.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:a,variant:n,size:l,asChild:d=!1,...c}=e,u=d?r.DX:"button";return(0,s.jsx)(u,{className:(0,o.cn)(i({variant:n,size:l,className:a})),ref:t,...c})});d.displayName="Button"},6695:(e,t,a)=>{a.d(t,{Wu:()=>d,ZB:()=>i,Zp:()=>l,aR:()=>o,wL:()=>c});var s=a(5155),n=a(2115),r=a(9434);let l=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...n})});l.displayName="Card";let o=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",a),...n})});o.displayName="CardHeader";let i=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",a),...n})});i.displayName="CardTitle",n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",a),...n})}).displayName="CardDescription";let d=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-0",a),...n})});d.displayName="CardContent";let c=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",a),...n})});c.displayName="CardFooter"},7906:(e,t,a)=>{a.d(t,{a:()=>n});var s=a(2115);function n(){let[e,t]=s.useState(void 0);return s.useEffect(()=>{let e=window.matchMedia("(max-width: ".concat(767,"px)")),a=()=>{t(window.innerWidth<768)};return e.addEventListener("change",a),t(window.innerWidth<768),()=>e.removeEventListener("change",a)},[]),e}},8038:(e,t,a)=>{a.r(t),a.d(t,{SidebarContent:()=>T,default:()=>$});var s=a(5155),n=a(2115),r=a(285),l=a(6695),o=a(9434);let i=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("textarea",{className:(0,o.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...n})});i.displayName="Textarea";var d=a(5695),c=a(4301),u=a(5074),f=a(7607),m=a(8763),x=a(7223),h=a(8921),p=a(7003),g=a(5318);let v=p.bL,b=p.l9,y=p.ZL,N=p.bm,j=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(p.hJ,{ref:t,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...n})});j.displayName=p.hJ.displayName;let w=n.forwardRef((e,t)=>{let{className:a,children:n,...r}=e;return(0,s.jsxs)(y,{children:[(0,s.jsx)(j,{}),(0,s.jsxs)(p.UC,{ref:t,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...r,children:[n,(0,s.jsxs)(p.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(g.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});w.displayName=p.UC.displayName;let C=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};C.displayName="DialogHeader";let k=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};k.displayName="DialogFooter";let S=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(p.hE,{ref:t,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",a),...n})});S.displayName=p.hE.displayName,n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(p.VY,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",a),...n})}).displayName=p.VY.displayName;let R=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("input",{className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...n})});R.displayName="Input";var E=a(7906);let A=[{name:"Sample Song 1.txt",content:"(Verse 1)\nThis is the first line of the first song.\nThis is the second line, it's not very long.\nHere comes the chorus, get ready to sing.\nOh, sample song, you mean everything.\n\n(Chorus)\nSample, sample, oh so grand.\nThe best example in the land.\nEasy to read, easy to see.\nA perfect sample for you and me."},{name:"Sample Song 2.txt",content:"(Verse 1)\nWoke up this morning, the sky was blue.\nAnother sample song, just for you.\nWith simple rhymes and a steady beat.\nThis lyrical content can't be beat.\n\n(Chorus)\nOh, it's another sample, loud and clear.\nTo show the feature we hold so dear.\nUpload your own, or edit this one.\nThe lyrics manager is so much fun!"}];async function _(){try{let e=localStorage.getItem("lyrics_files");if(e)return JSON.parse(e)}catch(e){console.error("Could not parse lyrics_files from localStorage",e)}return L(A),A}async function L(e){localStorage.setItem("lyrics_files",JSON.stringify(e)),window.dispatchEvent(new Event("lyrics_updated"))}function T(e){let{onFileSelect:t,fileInputRef:a,handleFileUpload:n,searchTerm:l,setSearchTerm:o,filteredSongs:i,selectedSong:f}=e;return(0,d.useRouter)(),(0,s.jsxs)("div",{className:"flex flex-col h-full bg-background",children:[(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)(r.$,{onClick:()=>{var e;return null==(e=a.current)?void 0:e.click()},className:"w-full",children:[(0,s.jsx)(c.A,{className:"mr-2 h-4 w-4"})," Add Song"]}),(0,s.jsx)("input",{type:"file",ref:a,onChange:n,className:"hidden",accept:".txt",multiple:!0})]}),(0,s.jsx)("div",{className:"p-4 pt-0",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(u.A,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(R,{type:"search",placeholder:"Search songs...",className:"pl-8 w-full",value:l,onChange:e=>o(e.target.value)})]})}),(0,s.jsx)("nav",{className:"flex flex-col p-4 pt-0 space-y-1 overflow-y-auto",children:i.length>0?i.map((e,a)=>(0,s.jsx)(r.$,{variant:(null==f?void 0:f.name)===e.name?"secondary":"ghost",className:"justify-start truncate",onClick:()=>t(e),children:e.name},a)):(0,s.jsx)("p",{className:"text-sm text-muted-foreground text-center p-4",children:"No songs found."})})]})}function $(){let[e,t]=(0,n.useState)([]),[a,o]=(0,n.useState)(null),[c,u]=(0,n.useState)(!0),[p,g]=(0,n.useState)(null),[y,j]=(0,n.useState)(""),[R,A]=(0,n.useState)(""),$=(0,E.a)(),z=(0,d.useRouter)(),F=(0,n.useRef)(null);(0,n.useEffect)(()=>{_().then(e=>{t(e),e.length>0&&!$&&o(e[0]),u(!1)})},[$]),(0,n.useEffect)(()=>{let e=e=>{o(e.detail)};return window.addEventListener("song-selected",e),()=>{window.removeEventListener("song-selected",e)}},[]);let O=s=>{let n=e.filter(e=>e.name!==s);t(n),L(n),a&&a.name===s&&o(n.length>0?n[0]:null)},W=t=>{let a=e.find(e=>e.name===t);a&&(localStorage.setItem("current_lyrics",a.content),z.push("/lyrics/view"))},D=e=>{g(e),j(e.content)},V=()=>{g(null),j("")},Z=e.filter(e=>e.name.toLowerCase().includes(R.toLowerCase()));return c?(0,s.jsx)("div",{className:"p-4 text-center",children:"Loading..."}):(0,s.jsxs)("div",{className:"flex h-[calc(100vh-3.5rem)] bg-background",children:[!$&&(0,s.jsx)("aside",{className:"w-1/3 min-w-[250px] max-w-[350px] border-r",children:(0,s.jsx)(T,{onFileSelect:e=>{o(e)},fileInputRef:F,handleFileUpload:s=>{let n=s.target.files;if(!n)return;let r=[...e],l=0;Array.from(n).forEach(e=>{if("text/plain"===e.type){let s=new FileReader;s.onload=s=>{let i=s.target.result,d={name:e.name,content:i};r.some(t=>t.name===e.name)||r.push(d),++l===n.length&&(t(r),L(r),a||o(d))},s.readAsText(e)}})},searchTerm:R,setSearchTerm:A,filteredSongs:Z,selectedSong:a})}),(0,s.jsx)("main",{className:"flex-1 flex flex-col p-4",children:a?(0,s.jsxs)(l.Zp,{className:"flex-1 flex flex-col",children:[(0,s.jsx)(l.aR,{children:(0,s.jsx)(l.ZB,{className:"truncate",children:a.name})}),(0,s.jsx)(l.Wu,{className:"flex-1 overflow-y-auto",children:(0,s.jsx)("pre",{className:"whitespace-pre-wrap font-body text-base leading-relaxed",children:a.content})}),(0,s.jsx)(l.wL,{className:"bg-muted/50 p-3 mt-auto border-t",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(r.$,{variant:"outline",onClick:()=>W(a.name),children:[(0,s.jsx)(f.A,{className:"mr-2 h-4 w-4"})," Show"]}),(0,s.jsxs)(v,{open:!!p&&p.name===a.name,onOpenChange:e=>!e&&V(),children:[(0,s.jsx)(b,{asChild:!0,children:(0,s.jsxs)(r.$,{variant:"outline",onClick:()=>D(a),children:[(0,s.jsx)(m.A,{className:"mr-2 h-4 w-4"})," Edit"]})}),(0,s.jsxs)(w,{children:[(0,s.jsx)(C,{children:(0,s.jsxs)(S,{children:["Edit ",a.name]})}),(0,s.jsx)(i,{value:y,onChange:e=>j(e.target.value),rows:15,className:"my-4"}),(0,s.jsxs)(k,{children:[(0,s.jsx)(N,{asChild:!0,children:(0,s.jsx)(r.$,{variant:"outline",children:"Cancel"})}),(0,s.jsx)(r.$,{onClick:()=>{if(!p)return;let s=e.map(e=>e.name===p.name?{...e,content:y}:e);t(s),L(s),a&&a.name===p.name&&o({...a,content:y}),g(null),j("")},children:"Save"})]})]})]}),(0,s.jsxs)(r.$,{variant:"destructive",onClick:()=>O(a.name),children:[(0,s.jsx)(x.A,{className:"mr-2 h-4 w-4"})," Delete"]})]})})]}):(0,s.jsx)("div",{className:"flex-1 flex items-center justify-center text-center text-muted-foreground",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,s.jsx)(h.A,{className:"h-16 w-16 text-muted-foreground/50"}),(0,s.jsx)("h2",{className:"text-xl font-medium",children:"Select a song to view"}),(0,s.jsx)("p",{children:"Or add a new song to get started."}),$&&(0,s.jsx)("p",{className:"text-sm mt-4",children:"Click the menu icon above to open the song list."})]})})})]})}},9434:(e,t,a)=>{a.d(t,{cn:()=>r});var s=a(2596),n=a(9688);function r(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.QP)((0,s.$)(t))}}}]);